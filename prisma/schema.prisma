// prisma/schema.prisma

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Location {
    id          String   @id @default(cuid())
    city        String
    place       String
    time        String
    description String?
    tz          String?
    mapLink     String?
    imageUrl    String?
    order       Int      @default(0)
    published   Boolean  @default(true)
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
}

model Testimonial {
    id        String   @id @default(cuid())
    name      String
    title     String
    quote     String
    publicId  String?
    imageUrl  String?
    order     Int      @default(0)
    published Boolean  @default(true)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model Coach {
    id          String   @id @default(cuid())
    name        String
    specialty   String
    publicId    String
    imageUrl    String
    description String?
    order       Int      @default(0)
    published   Boolean  @default(true)
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
}

model RunCategory {
    id          String    @id @default(cuid())
    title       String
    publicId    String
    imageUrl    String
    description String?
    order       Int       @default(0)
    published   Boolean   @default(true)
    createdAt   DateTime  @default(now())
    updatedAt   DateTime  @updatedAt
    services    Service[]
}

model BrandingFeature {
    id          String   @id @default(cuid())
    title       String
    publicId    String
    imageUrl    String
    description String?
    order       Int      @default(0)
    published   Boolean  @default(true)
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
}

model TrainingProgram {
    id        String  @id @default(cuid())
    title     String
    subtitle  String
    imageUrl  String
    color     String  @default("from-gray-800 to-black")
    order     Int     @default(0)
    published Boolean @default(true)

    items TrainingProgramItem[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model TrainingProgramItem {
    id        String @id @default(cuid())
    programId String
    name      String
    desc      String
    order     Int    @default(0)

    program TrainingProgram @relation(fields: [programId], references: [id], onDelete: Cascade)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([programId, order])
}

model Service {
    id         String  @id @default(cuid())
    categoryId String
    title      String
    subtitle   String
    imageUrl   String
    color      String  @default("from-gray-800 to-black")
    order      Int     @default(0)
    published  Boolean @default(true)

    category RunCategory   @relation(fields: [categoryId], references: [id], onDelete: Cascade)
    items    ServiceItem[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([categoryId, order])
}

model ServiceItem {
    id        String @id @default(cuid())
    serviceId String
    name      String
    desc      String
    order     Int    @default(0)

    service Service @relation(fields: [serviceId], references: [id], onDelete: Cascade)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([serviceId, order])
}

model Experience {
    id          String   @id @default(cuid())
    title       String
    subtitle    String?
    description String?
    publicId    String?
    imageUrl    String?
    layout      String   @default("left") // "left" | "right"
    order       Int      @default(0)
    published   Boolean  @default(true)
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt

    items ExperienceItem[]
}

model ExperienceItem {
    id           String @id @default(cuid())
    experienceId String
    name         String
    desc         String
    order        Int    @default(0)

    experience Experience @relation(fields: [experienceId], references: [id], onDelete: Cascade)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([experienceId, order])
}
